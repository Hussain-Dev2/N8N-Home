FROM n8nio/n8n:latest

# Copy a small entrypoint script to allow using $PORT from Render
COPY start-n8n.sh /usr/local/bin/start-n8n.sh
RUN chmod +x /usr/local/bin/start-n8n.sh

ENTRYPOINT ["/usr/local/bin/start-n8n.sh"]
# Do not hardcode N8N_PORT here; allow the entrypoint or runtime to set it
# Expose default n8n port for local testing
EXPOSE 5678
CMD ["n8n", "start"]
